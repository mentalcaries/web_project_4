!function(){"use strict";var e={67:function(e,t,n){e.exports=n.p+"e704d84d7e871cbc169a.jpg"},447:function(e,t,n){e.exports=n.p+"2e3b9d91e9493acfe301.jpg"},736:function(e,t,n){e.exports=n.p+"0a3a51b25f33702e67bf.jpg"},830:function(e,t,n){e.exports=n.p+"21a2046f8108ca55d12c.jpg"},281:function(e,t,n){e.exports=n.p+"04107f613c7a65f90cd6.jpg"},345:function(e,t,n){e.exports=n.p+"1f722760a91da5fc1539.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.items,o=e.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var n,r;return n=t,(r=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&e(n.prototype,r),t}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){var n=t.baseUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=n}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){}},{key:"getProfileInfo",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:{authorization:"8e942d63-a4ca-4642-8de3-5514e3f09ba0","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){popupName.value=e.name,popupTitle.value=e.about}))}},{key:"setProfileInfo",value:function(){}},{key:"addNewCard",value:function(){}},{key:"deleteCard",value:function(){}},{key:"cardToggleLike",value:function(){}},{key:"updateProfilePicture",value:function(){}}])&&r(t.prototype,n),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,r){var o=r.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=t.name,this._link=t.link,this._cardTemplate=n,this._handleCardClick=o}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardTemplate.querySelector(".card").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this,t=this._card.querySelector(".card__like-button"),n=this._card.querySelector(".card__delete-button");t.addEventListener("click",(function(e){e.target.classList.toggle("card__like-button_active")})),n.addEventListener("click",(function(){e._card.remove()}))}},{key:"getCard",value:function(){return this._card=this._getTemplate(),this._cardImage=this._card.querySelector(".card__image"),this._setEventListeners(),this._card.querySelector(".card__title").textContent=this._text,this._cardImage.src=this._link,this._cardImage.alt="Picture of "+this._text,this._cardImage.addEventListener("click",this._handleCardClick),this._card}}])&&i(t.prototype,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-btn").addEventListener("click",(function(t){e.close(t.target)})),this._popupElement.addEventListener("click",(function(t){t.target.closest(".popup__container")||e.close()}))}}])&&u(t.prototype,n),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._popupElement.querySelector(".popup__caption").textContent=n;var r=this._popupElement.querySelector(".popup__image");r.src=t,r.alt="Picture of ".concat(n),p(d(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),a}(c);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(e,t){var n,r=e.submitFormHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._submitFormHandler=r,n._popupForm=n._popupElement.querySelector(".popup__form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupForm.querySelectorAll(".popup__field"),this._inputValues={},this._inputList.forEach((function(t){return e._inputValues[t.name]=t.value})),this._inputValues}},{key:"setEventListeners",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._submitFormHandler(e._getInputValues()),e.close()})),m(S(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),m(S(a.prototype),"close",this).call(this)}}])&&v(t.prototype,n),a}(c);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=t.nameSelector,r=t.titleSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameSelector=n,this._titleSelector=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameSelector.textContent,title:this._titleSelector.textContent}}},{key:"setUserInfo",value:function(e){var t=e.nameSelector,n=e.titleSelector;this._nameSelector.textContent=t,this._titleSelector.textContent=n}}])&&E(t.prototype,n),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._button=this._form.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_toggleButtonState",value:function(e){this._inputList.every((function(e){return e.validity.valid}))?(e.classList.remove(this._inactiveButtonClass),e.disabled=!1):(e.classList.add(this._inactiveButtonClass),e.disabled=!0)}},{key:"_resetValidation",value:function(e){var t=this;this._toggleButtonState(e),this._inputList.forEach((function(e){t._hideErrorMessage(e)}))}},{key:"_showErrorMessage",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_hideErrorMessage",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));t.textContent=" ",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideErrorMessage(e):this._showErrorMessage(e)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState(e._button)}))}))}},{key:"enableValidation",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._resetValidation(e._button)})),this._setEventListeners(),this._toggleButtonState(this._button)}}])&&C(t.prototype,n),e}(),O=[{name:"Yosemite Valley",link:n(736)},{name:"Port St Lucie",link:n(830)},{name:"Stuart",link:n(345)},{name:"Fort Pierce",link:n(447)},{name:"Chaguaramas Bay Marina",link:n(67)},{name:"San Fernando",link:n(281)}],j={inputSelector:".popup__field",submitButtonSelector:".popup__save-btn",inactiveButtonClass:"popup__save-btn_disabled",inputErrorClass:"popup__field_type_error",errorClass:"popup__error_visible"},P=document.querySelector(".popup_type_edit-profile"),q=document.querySelector(".popup_type_new-item"),x=P.querySelector(".popup__form"),T=q.querySelector(".popup__form"),I=document.querySelector(".profile__edit-btn"),B=document.querySelector(".profile__add-button"),R=(document.querySelector(".popup__close-btn"),document.querySelector(".profile__name")),V=document.querySelector(".profile__subtitle"),F=(P.querySelector("#popup_name"),P.querySelector("#popup_title"),document.querySelector(".card-template").content),U=new o({baseUrl:"https://around.nomoreparties.co/v1/group-10",headers:{authorization:"8e942d63-a4ca-4642-8de3-5514e3f09ba0","Content-Type":"application/json"}}),M=new t({items:O,renderer:D},".elements");function D(e){var t=function(e,t){return new a(e,t,{handleCardClick:function(){z.open({link:e.link,name:e.name})}})}(e,F);return M.addItem(t.getCard())}M.renderItems();var H=new k({submitFormHandler:function(e){D(e)}},".popup_type_new-item");H.setEventListeners();var A=new w({nameSelector:R,titleSelector:V}),N=new k({submitFormHandler:function(e){A.setUserInfo({nameSelector:e.name,titleSelector:e.title})}},".popup_type_edit-profile");N.setEventListeners(),I.addEventListener("click",(function(e){A.getUserInfo(),U.getProfileInfo(),N.open()})),B.addEventListener("click",(function(e){H.open()}));var z=new y(".popup_type_picture");z.setEventListeners();var G=new L(j,x),Y=new L(j,T);G.enableValidation(),Y.enableValidation()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FFZCx3QkFDSDJILEVBQWFDLG9CQUtiLElBQU1DLEVBQVcsSUFBSTNELEVBQVMsQ0FBRUMsYUFBYzJDLEVBQWExQyxjQUFlMkMsSUFFcEVlLEVBQWMsSUFBSXZFLEVBQWMsQ0FDcENDLGtCQUFtQixTQUFDeEQsR0FDbEI2SCxFQUFTRSxZQUFZLENBQUU1RCxhQUFjbkUsRUFBS2UsS0FBTXFELGNBQWVwRSxFQUFLdUUsVUFFckUsNEJBRUh1RCxFQUFZRixvQkFFWmhCLEVBQWtCN0UsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDdkI2RixFQUFTRyxjQUc3QmQsRUFBSWUsaUJBSUpILEVBQVlSLFVBUWRULEVBQWtCOUUsaUJBQWlCLFNBQVMsU0FBQ0MsR0FDM0MyRixFQUFhTCxVQUtmLElBQU1ELEVBQWEsSUFBSWhFLEVBQWUsdUJBQ3RDZ0UsRUFBV08sb0JBR1gsSUFBTU0sRUFBb0IsSUFBSTFELEVBQWMrQixFQUFxQkcsR0FDM0R5QixFQUFtQixJQUFJM0QsRUFBYytCLEVBQXFCSSxHQUVoRXVCLEVBQWtCRSxtQkFDbEJELEVBQWlCQyxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiXHJcbmNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNhcmRDb250YWluZXIpIHtcclxuXHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZENvbnRhaW5lcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHsgICBcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oY2FyZCkge1xyXG4gICAgLy90YWtlcyBET00gZWxlbWVudCBhbmQgYWRkcyBpdCB0byB0aGUgY29udGFpbmVyXHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwgfSkge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuXHJcbiAgfVxyXG5cclxuICBnZXRQcm9maWxlSW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcIjhlOTQyZDYzLWE0Y2EtNDY0Mi04ZGUzLTU1MTRlM2YwOWJhMFwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgcG9wdXBOYW1lLnZhbHVlID0gcmVzdWx0Lm5hbWU7XHJcbiAgICAgICAgcG9wdXBUaXRsZS52YWx1ZSA9IHJlc3VsdC5hYm91dDtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIHNldFByb2ZpbGVJbmZvKCkge1xyXG5cclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuXHJcbiAgfVxyXG5cclxuICBjYXJkVG9nZ2xlTGlrZSgpIHtcclxuXHJcbiAgfVxyXG5cclxuICB1cGRhdGVQcm9maWxlUGljdHVyZSgpIHtcclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuLy8gY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbi8vICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEwXCIsXHJcbi8vICAgaGVhZGVyczoge1xyXG4vLyAgICAgYXV0aG9yaXphdGlvbjogXCI4ZTk0MmQ2My1hNGNhLTQ2NDItOGRlMy01NTE0ZTNmMDliYTBcIixcclxuLy8gICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbi8vICAgfVxyXG4vLyB9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0VXNlckluZm8oKSB7XHJcbi8vICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMC91c2Vycy9tZVwiLCB7XHJcbi8vICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbi8vICAgICBoZWFkZXJzOiB7XHJcbi8vICAgICAgIGF1dGhvcml6YXRpb246IFwiOGU5NDJkNjMtYTRjYS00NjQyLThkZTMtNTUxNGUzZjA5YmEwXCIsXHJcbi8vICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbi8vICAgICB9XHJcbi8vICAgfSlcclxuLy8gICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4vLyAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4vLyAgICAgY29uc29sZS5sb2cocmVzdWx0Lm5hbWUpO1xyXG4vLyAgICAgY29uc29sZS5sb2cocmVzdWx0LmFib3V0KTtcclxuLy8gICAgIH0pXHJcbi8vIH0iLCJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkVGVtcGxhdGUsIHsgaGFuZGxlQ2FyZENsaWNrIH0pIHtcclxuICAgIHRoaXMuX3RleHQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cclxuICAgIGNvbnN0IGxpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgICAvL0xpa2UgQ2FyZFxyXG4gICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG5cclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9EZWxldGUgQ2FyZFxyXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZCgpIHtcclxuXHJcbiAgICB0aGlzLl9jYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBjb25zdCBjYXJkVGl0bGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gXCJQaWN0dXJlIG9mIFwiICsgdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKVxyXG5cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuXHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuXHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vQ2xvc2UgYnV0dG9uXHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idG5cIilcclxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoZXZ0LnRhcmdldCk7XHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICAvL092ZXJsYXlcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwX19jb250YWluZXJcIikpIHJldHVyblxyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuKHtsaW5rLCBuYW1lfSl7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBjb25zdCBpbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIGltYWdlLnNyYyA9IGxpbms7XHJcbiAgICBpbWFnZS5hbHQgPSBgUGljdHVyZSBvZiAke25hbWV9YDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlOyIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHN1Ym1pdEZvcm1IYW5kbGVyIH0sIHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0Rm9ybUhhbmRsZXIgPSBzdWJtaXRGb3JtSGFuZGxlcjtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2ZpZWxkXCIpO1xyXG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy9hZGQgY2xpY2sgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNsb3NlIGljb25cclxuICAgIC8vYWRkIHN1Ym1pdCBldmVudCBoYW5kbGVyIHRvIHN1Ym1pdCBidXR0b25cclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEZvcm1IYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcblxyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAvL21vZGlmeSB0byByZXNldCB0aGUgZm9ybSBvbmNlIHBvcHVwIGlzIGNsb3NlZFxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07IiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCB0aXRsZVNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IG5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3RpdGxlU2VsZWN0b3IgPSB0aXRsZVNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lU2VsZWN0b3IudGV4dENvbnRlbnQsXHJcbiAgICAgIHRpdGxlOiB0aGlzLl90aXRsZVNlbGVjdG9yLnRleHRDb250ZW50XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oe25hbWVTZWxlY3RvciwgdGl0bGVTZWxlY3Rvcn0pIHtcclxuICAgIHRoaXMuX25hbWVTZWxlY3Rvci50ZXh0Q29udGVudCA9IG5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3RpdGxlU2VsZWN0b3IudGV4dENvbnRlbnQgPSB0aXRsZVNlbGVjdG9yO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xyXG5cclxuLy9nZXRVc2VySW5mbygpLiBJbnB1dCBmaWVsZHMgc2hvdWxkID0ge25hbWUsIHRpdGxlfSIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBcclxuICB9XHJcblxyXG5cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGJ1dHRvbikge1xyXG4gICAgIGNvbnN0IGlzVmFsaWQgPSB0aGlzLl9pbnB1dExpc3QuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG5cclxuICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXHJcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXHJcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfcmVzZXRWYWxpZGF0aW9uKGJ1dHRvbikge1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGJ1dHRvbik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZShpbnB1dCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQpIHtcclxuXHJcbiAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYClcclxuICAgIGVycm9yLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcblxyXG4gICAgZXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG5cclxuICBfaGlkZUVycm9yTWVzc2FnZShpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApXHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IFwiIFwiO1xyXG5cclxuICAgIGVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZShpbnB1dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHRoaXMuX3Nob3dFcnJvck1lc3NhZ2UoaW5wdXQpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5fYnV0dG9uKTtcclxuXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBldnQgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fcmVzZXRWYWxpZGF0aW9uKHRoaXMuX2J1dHRvbik7XHJcbiAgICB9KTtcclxuIFxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2J1dHRvbik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJcclxuaW1wb3J0IHlvc2VtaXRlSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9raXJpbGwtcGVyc2hpbi0xMDg4NDA0LXVuc3BsYXNoLmpwZ1wiO1xyXG5pbXBvcnQgc3RMdWNpZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvcHNsLmpwZ1wiO1xyXG5pbXBvcnQgc3R1YXJ0SW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9zdHVhcnQuanBnXCI7XHJcbmltcG9ydCBmdFBpZXJjZUltYWdlIGZyb20gXCIuLi9pbWFnZXMvZnRwaWVyY2UuanBnXCI7XHJcbmltcG9ydCBjaGFnSW1hZ2UgZnJvbSBcIi4uL2ltYWdlcy9jaGFnLmpwZ1wiO1xyXG5pbXBvcnQgc2FuZG9JbWFnZSBmcm9tIFwiLi4vaW1hZ2VzL3NhbmRvLmpwZ1wiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IHlvc2VtaXRlSW1hZ2VcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUG9ydCBTdCBMdWNpZVwiLFxyXG4gICAgbGluazogc3RMdWNpZUltYWdlXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlN0dWFydFwiLFxyXG4gICAgbGluazogc3R1YXJ0SW1hZ2VcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiRm9ydCBQaWVyY2VcIixcclxuICAgIGxpbms6IGZ0UGllcmNlSW1hZ2VcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQ2hhZ3VhcmFtYXMgQmF5IE1hcmluYVwiLFxyXG4gICAgbGluazogY2hhZ0ltYWdlXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlNhbiBGZXJuYW5kb1wiLFxyXG4gICAgbGluazogc2FuZG9JbWFnZVxyXG4gIH1cclxuXVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0Rm9ybVNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19maWVsZFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZS1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zYXZlLWJ0bl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fZmllbGRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9Nb2RhbHNcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdC1wcm9maWxlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wVXBOZXdJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX25ldy1pdGVtXCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gcG9wdXBFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBwb3BVcE5ld0l0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuXHJcbi8vQnV0dG9uIHZhcmlhYmxlc1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZE5ld1BsYWNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idG5cIilcclxuXHJcblxyXG4vL1BhZ2UgVGV4dFxyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIpO1xyXG5cclxuLy9Gb3JtIFRleHRcclxuZXhwb3J0IGNvbnN0IHBvcHVwTmFtZSA9IHBvcHVwRWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIiNwb3B1cF9uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUaXRsZSA9IHBvcHVwRWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIiNwb3B1cF90aXRsZVwiKTtcclxuXHJcbi8vQ2FyZCBUZW1wbGF0ZVxyXG5leHBvcnQgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtdGVtcGxhdGVcIikuY29udGVudDtcclxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMsIGRlZmF1bHRGb3JtU2V0dGluZ3MsIGVkaXRGb3JtRWxlbWVudCwgYWRkQ2FyZEZvcm0sIGVkaXRQcm9maWxlQnV0dG9uLCBhZGROZXdQbGFjZUJ1dHRvbiwgcHJvZmlsZU5hbWUsIHByb2ZpbGVUaXRsZSwgcG9wdXBOYW1lLCBwb3B1cFRpdGxlLCB0ZW1wbGF0ZSwgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5cclxuLy9BUElcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMFwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiOGU5NDJkNjMtYTRjYS00NjQyLThkZTMtNTUxNGUzZjA5YmEwXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIH1cclxufSk7XHJcblxyXG4vL0VsZW1lbnRzIFNlY3Rpb25cclxuXHJcbmNvbnN0IGVsZW1lbnRzID0gbmV3IFNlY3Rpb24oe1xyXG4gIGl0ZW1zOiBpbml0aWFsQ2FyZHMsIHJlbmRlcmVyOiBnZW5lcmF0ZUNhcmR9LCBcIi5lbGVtZW50c1wiKVxyXG5lbGVtZW50cy5yZW5kZXJJdGVtcygpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSwgdGVtcGxhdGUpIHtcclxuICByZXR1cm4gbmV3IENhcmQoaXRlbSwgdGVtcGxhdGUsIHtcclxuICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xyXG5cclxuICAgICAgaW1hZ2VQb3B1cC5vcGVuKHsgbGluazogaXRlbS5saW5rLCBuYW1lOiBpdGVtLm5hbWUgfSk7XHJcbiAgICB9XHJcbiAgfSl9XHJcbiAgXHJcbiAgZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGl0ZW0pIHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0sIHRlbXBsYXRlKTtcclxuICAgIHJldHVybiBlbGVtZW50cy5hZGRJdGVtKGNhcmQuZ2V0Q2FyZCgpKVxyXG4gIH1cclxuXHJcblxyXG4vL0FkZCBOZXcgQ2FyZFxyXG5jb25zdCByZW5kZXJlZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgc3VibWl0Rm9ybUhhbmRsZXI6IChpdGVtKSA9PiB7XHJcbiAgICBnZW5lcmF0ZUNhcmQoaXRlbSk7XHJcbiAgfVxyXG59LCBcIi5wb3B1cF90eXBlX25ldy1pdGVtXCIpXHJcbnJlbmRlcmVkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcblxyXG4vL0VkaXQgUHJvZmlsZVxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7IG5hbWVTZWxlY3RvcjogcHJvZmlsZU5hbWUsIHRpdGxlU2VsZWN0b3I6IHByb2ZpbGVUaXRsZSB9KVxyXG5cclxuY29uc3QgdXNlclByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgc3VibWl0Rm9ybUhhbmRsZXI6IChpdGVtKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWVTZWxlY3RvcjogaXRlbS5uYW1lLCB0aXRsZVNlbGVjdG9yOiBpdGVtLnRpdGxlIH0pO1xyXG4gIH1cclxufSwgXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIilcclxuXHJcbnVzZXJQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gIGNvbnN0IHByb2ZpbGVUZXh0ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuXHJcbiAgLy9HZXQgdXNlciBkYXRhIGZyb20gc2VydmVyXHJcbiAgYXBpLmdldFByb2ZpbGVJbmZvKCk7XHJcbiAgXHJcbiAgLy8gcG9wdXBOYW1lLnZhbHVlID0gcHJvZmlsZVRleHQubmFtZTtcclxuICAvLyBwb3B1cFRpdGxlLnZhbHVlID0gcHJvZmlsZVRleHQudGl0bGU7XHJcbiAgdXNlclByb2ZpbGUub3BlbigpO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbi8vTmV3IEl0ZW0gTW9kYWxcclxuLy9DbGljayBhZGQgYnV0dG9uXHJcbmFkZE5ld1BsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgcmVuZGVyZWRDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG5cclxuLy9NYXhpbWlzZSBJbWFnZVxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfcGljdHVyZVwiKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZGVmYXVsdEZvcm1TZXR0aW5ncywgZWRpdEZvcm1FbGVtZW50KTtcclxuY29uc3QgbmV3SXRlbVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGRlZmF1bHRGb3JtU2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxubmV3SXRlbVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiU2VjdGlvbiIsImNhcmRDb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwidGhpcyIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JFYWNoIiwiaXRlbSIsImNhcmQiLCJwcmVwZW5kIiwiQXBpIiwiYmFzZVVybCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwianNvbiIsInJlc3VsdCIsInBvcHVwTmFtZSIsInZhbHVlIiwibmFtZSIsInBvcHVwVGl0bGUiLCJhYm91dCIsIkNhcmQiLCJkYXRhIiwiY2FyZFRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwiX3RleHQiLCJfbGluayIsImxpbmsiLCJfY2FyZFRlbXBsYXRlIiwiX2hhbmRsZUNhcmRDbGljayIsImNsb25lTm9kZSIsImxpa2VCdXR0b24iLCJfY2FyZCIsImRlbGV0ZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsImNsb3Nlc3QiLCJQb3B1cFdpdGhJbWFnZSIsImltYWdlIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm1IYW5kbGVyIiwiX3N1Ym1pdEZvcm1IYW5kbGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0VmFsdWVzIiwiaW5wdXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJ0aXRsZVNlbGVjdG9yIiwiX25hbWVTZWxlY3RvciIsIl90aXRsZVNlbGVjdG9yIiwidGl0bGUiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiQXJyYXkiLCJmcm9tIiwiX2J1dHRvbiIsImJ1dHRvbiIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJlcnJvciIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfc2hvd0Vycm9yTWVzc2FnZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfcmVzZXRWYWxpZGF0aW9uIiwiaW5pdGlhbENhcmRzIiwiZGVmYXVsdEZvcm1TZXR0aW5ncyIsInBvcHVwRWRpdEZvcm0iLCJwb3BVcE5ld0l0ZW0iLCJlZGl0Rm9ybUVsZW1lbnQiLCJhZGRDYXJkRm9ybSIsImVkaXRQcm9maWxlQnV0dG9uIiwiYWRkTmV3UGxhY2VCdXR0b24iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVUaXRsZSIsInRlbXBsYXRlIiwiY29udGVudCIsImFwaSIsImVsZW1lbnRzIiwiZ2VuZXJhdGVDYXJkIiwiaW1hZ2VQb3B1cCIsIm9wZW4iLCJjcmVhdGVDYXJkIiwiYWRkSXRlbSIsImdldENhcmQiLCJyZW5kZXJJdGVtcyIsInJlbmRlcmVkQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckluZm8iLCJ1c2VyUHJvZmlsZSIsInNldFVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJnZXRQcm9maWxlSW5mbyIsImVkaXRGb3JtVmFsaWRhdG9yIiwibmV3SXRlbVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9